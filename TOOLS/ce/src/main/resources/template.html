<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <title>The OPAL Framework $version</title>
    <meta content="The OPAL Framework $version" name="description"/>
    <meta content="The OPAL Framework $version" name="keywords"/>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <script type="text/javascript" src="scripts/theme.js"></script>
    <script type="text/javascript" src="scripts/searchData.js" defer="true"></script>
    <script type="text/javascript" src="scripts/scastieConfiguration.js" defer="true"></script>
    <link rel="stylesheet" href="styles/theme/bundle.css">
    <link rel="stylesheet" href="styles/theme/components/bundle.css">
    <link rel="stylesheet" href="styles/theme/components/button/bundle.css">
    <link rel="stylesheet" href="styles/theme/layout/bundle.css">
    <link rel="stylesheet" href="styles/nord-light.css">
    <link rel="stylesheet" href="styles/dotty-icons.css">
    <link rel="stylesheet" href="styles/filter-bar.css">
    <link rel="stylesheet" href="styles/code-snippets.css">
    <link rel="stylesheet" href="styles/searchbar.css">
    <link rel="stylesheet" href="styles/social-links.css">
    <link rel="stylesheet" href="styles/versions-dropdown.css">
    <link rel="stylesheet" href="styles/content-contributors.css">
    <link rel="stylesheet" href="styles/fontawesome.css">

    <script type="text/javascript" src="hljs/highlight.pack.js" defer="true"></script>
    <script type="text/javascript" src="scripts/hljs-scala3.js" defer="true"></script>
    <script type="text/javascript" src="scripts/ux.js" defer="true"></script>
    <script type="text/javascript" src="scripts/common/component.js" defer="true"></script>
    <script type="text/javascript" src="scripts/common/utils.js" defer="true"></script>
    <script type="text/javascript" src="scripts/components/FilterBar.js" defer="true"></script>
    <script type="text/javascript" src="scripts/components/DocumentableList.js" defer="true"></script>
    <script type="text/javascript" src="scripts/components/Input.js" defer="true"></script>
    <script type="text/javascript" src="scripts/components/FilterGroup.js" defer="true"></script>
    <script type="text/javascript" src="scripts/components/Filter.js" defer="true"></script>
    <script type="text/javascript" src="scripts/scaladoc-scalajs.js" defer="true"></script>
    <script type="text/javascript" src="scripts/contributors.js" defer="true"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script>
    <script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js"
            defer="true"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js"
            defer="true"></script>
    <script type="text/javascript" src="https://scastie.scala-lang.org/embedded.js" defer="true"></script>
    <script type="text/javascript" src="scripts/data.js" defer="true"></script>
    <link rel="stylesheet" href="styles/apistyles.css">
    <script>var pathToRoot = "";</script>

    <style>
        body {
            font-family: sans-serif;
            padding: 1em;
            background: var(--background-default);
        }

        hr {
            margin-top : 0.75em;
            margin-bottom: 0.75em;
            border-width: 1px;
            color: var(--border-default);
        }

        .value {
            padding: 1em;
            border: 0.1em solid var(--border-default);
            border-radius: 0.5em;
            margin-left: 2em;
            display: none;
            position:relative;
        }
        .value.expanded {
            display: block;
        }

        .key {
            margin: 1em 0em;
            position:relative;
        }

        .preview {
            font-weight: normal;
            font-size: 1.0em;
            color: var(--text-secondary);
        }

        #config-content {
            padding-top: calc(6 * var(--base-spacing));
            padding-bottom: calc(6 * var(--base-spacing));
            padding-right: 2em;
            margin-left: 1em;
            flex-flow: column;
            color: var(--text-primary);
            height: 92vh;
            overflow-y:auto;
        }

        #config-content a {
          color: var(--text-primary);
          text-decoration: underline solid 1px;
          -webkit-text-decoration-line: underline; /* Safari */
          text-decoration-line: underline;
          text-underline-offset: 2px;
        }

        #index-input {
            width: 45vw;
            border: 0.1em solid var(--border-default);
            border-radius: 0.5em;
        }

        .expandButton {
            float: right;
            color: var(--text-secondary);
            font-size: 0.65em;
            padding: 0.4em;
            border: 0.1em solid var(--border-default);
            border-radius: 0.25em;
            border-collapse: collapse;
        }

        /* Enforces hiding of value divs with search results on user request */
        @layer manual {
            .force-collapsed {
                display: none !important;
            }
        }

        /* Enforces showing of: */
        @layer search { /* (Enforces precedence of showing results vs. hiding non-results (next rule)) */
            .search-result, /* - keys and `p`s that contain the search term */
            .search-result + .value, /* - value divs where the respective key contained the search term */
            .search-result + .value > p, /* `p`s in value divs where the respective key contained the search term */

            .value:has(.search-result), /* - value divs where any child contains the search term */
            .key:has(+ .value .search-result) { /* - keys where the respective value div has any child containing the search term */
                display: block !important;
            }
        }
        /* Hides: */
        .search-no-result, /* - keys and `p`s that don't contain the search term */
        .value:has(.search-no-result) { /* - value divs not matched by the @layer rule above when search is performed */
            display: none !important;
        }
        /* Hides separator rules where: */
        /* - the following key does not contain the search term */
        /* - the value div following the key does not contain the search term
        /* - when search is performed */
        hr:not(:scope + .search-result):not(:scope + .key + .value:has(.search-result)):has(+ .key + .value .search-no-result) {
            display: none;
        }

        /* Highlights the occurrences of the search term */
        ::highlight(search) {
          color: black;
          background-color: yellow;
        }

        /* Sets the correct text for the expand box */
        .key > .expandButton::before {
            content: "Show";
        }
        .key:has(+ .value.expanded, + .value .search-result):not(:has(+ .value.force-collapsed)) > .expandButton::before {
            content: "Hide";
        }

    </style>

    <script type="module">
        import { highlightSearchTerm } from "https://cdn.jsdelivr.net/npm/highlight-search-term@1.0.2/src/index.js";
        const search = document.getElementById("index-input");
        search.addEventListener("input", () => {
            highlightSearchTerm({
                search: search.value,
                selector: ".key, p",
            });
        });
    </script>
    <script>
        function searchConfig() {
            const searchString = document.getElementById("index-input").value.trim().toLowerCase();
            const contentContainer = document.getElementById("content-container");
            if (searchString === "") {
                document.querySelectorAll('.key, p').forEach(element => {
                        element.classList.remove('search-result');
                        element.classList.remove('search-no-result');
                });
                document.querySelectorAll('.value').forEach(element => {
                        element.classList.remove('force-expanded');
                        element.classList.remove('force-collapsed');
                });
            } else {
                document.querySelectorAll('.key, p').forEach(element => {
                    if (element.textContent.toLowerCase().includes(searchString)) {
                        element.classList.add('search-result');
                        element.classList.remove('search-no-result');
                    } else {
                        element.classList.add('search-no-result');
                        element.classList.remove('search-result');
                    }
                });
            }
        };
    </script>
</head>
<body style="padding-right:0em;padding-left:0em;">
<div id="header" class="body-small">
    <div class="header-container-left"><a href="" class="logo-container"><span class="project-name h300">The
                        OPAL Framework</span></a>
    </div>
    <div class="header-container-right"><div id="textfilter">
        <input class="scaladoc-searchbar-input" autocomplete="off" autocapitalize="none" placeholder="Search Configuration" id="index-input" type="text" accesskey="/" onkeyup="searchConfig()"/>
    </div><span
            id="theme-toggle" class="icon-button"></span><span id="mobile-menu-toggle"
                                                               class="icon-button hamburger"></span></div>
</div>
<div id="mobile-menu">
    <div class="mobile-menu-header body-small"><span class="mobile-menu-logo"><span
            class="project-name h300">The OPAL Framework $version</span></span><button id="mobile-menu-close"
                                                                              class="icon-button close"></button></div>
    <div class="mobile-menu-container body-medium"><input id="mobile-scaladoc-searchbar-input"
                                                          class="scaladoc-searchbar-input" type="search" placeholder="Find anything"><span
            id="mobile-theme-toggle" class="mobile-menu-item mode"></span></div>
    </div><span id="mobile-sidebar-toggle" class="floating-button"></span>
<div id="config-content" class="body-medium">
    $body
</div>

<script>
    document.querySelectorAll('.key').forEach(key => {
        const expandButton = key.querySelector('.expandButton');

        if(expandButton) {
            const value = key.nextElementSibling;
            key.style.cursor = 'pointer';

            key.addEventListener('click', () => {
                if(key.classList.contains('search-result') || key.classList.contains('search-no-result'))
                    value.classList.toggle('force-collapsed');
                else
                    value.classList.toggle('expanded');

            });
        }
    });
    document.querySelectorAll('.value:has(+ .key), .value ~ .value').forEach(value => {
        value.classList.remove('expanded');
    });
</script>

</body>
</html>
